@model LetterBoxd2.Models.Movie

<h1>@Model.Title</h1>
<img src="@Model.PosterUrl" alt="@Model.Title Poster" style="width: 200px; height: auto;">
<p>Genre: @Model.Genre</p>
<p>Release Year: @Model.ReleaseYear</p>
<p>Average Rating: @Model.AverageRating</p>

<a href="@Url.Action("GetAll", "Movie")" class="btn btn-primary">Back to Movies</a>

<h2>Comments:</h2>
@if (Model.Comments != null && Model.Comments.Any())
{
    <ul>
        @foreach (var comment in Model.Comments)
        {
            <li>
                <strong>@comment.Username :</strong> @comment.Content
                @if (comment.Username == User.Identity.Name)
                {
                    <a asp-controller="Movie" asp-action="EditCommentPage" asp-route-id="@comment.Id">Edit</a>
                    <form asp-controller="Movie" asp-action="DeleteComment" method="post" style="display:inline;">
                        <input type="hidden" name="id" value="@comment.Id" />
                        <button type="submit">Delete</button>
                    </form>
                }
            </li>
        }
    </ul>
}
else
{
    <p>No comments yet.</p>
}

<h3>Add a Comment:</h3>
<form asp-action="AddComment" method="post" asp-route-id="@Model.Id">
    <input type="hidden" name="MovieId" value="@Model.Id" />
    <div>
        <textarea id="content" name="Content" required maxlength="50"></textarea>
    </div>
    <button type="submit">Add Comment</button>
</form>

<h3>Rate this Movie:</h3>
<form asp-action="RateMovie" method="post">
    <input type="hidden" name="id" value="@Model.Id" />

    <div>
        <div class="rate">
            <input type="radio" id="star5" name="rate" value="5" />
            <label for="star5" title="text">5 stars</label>
            <input type="radio" id="star4" name="rate" value="4" />
            <label for="star4" title="text">4 stars</label>
            <input type="radio" id="star3" name="rate" value="3" />
            <label for="star3" title="text">3 stars</label>
            <input type="radio" id="star2" name="rate" value="2" />
            <label for="star2" title="text">2 stars</label>
            <input type="radio" id="star1" name="rate" value="1" />
            <label for="star1" title="text">1 star</label>
        </div>
    </div>
    <br><br>
    <button type="submit">Submit Rating</button>
</form>



<style>
*{
    margin: 0;
    padding: 0;
}
.rate {
    float: left;
    height: 46px;
    padding: 0 10px;
}
.rate:not(:checked) > input {
    position:absolute;
    top:-9999px;
}
.rate:not(:checked) > label {
    float:right;
    width:1em;
    overflow:hidden;
    white-space:nowrap;
    cursor:pointer;
    font-size:30px;
    color:#ccc;
}
.rate:not(:checked) > label:before {
    content: 'â˜… ';
}
.rate > input:checked ~ label {
    color: #ffc700;    
}
.rate:not(:checked) > label:hover,
.rate:not(:checked) > label:hover ~ label {
    color: #deb217;  
}
.rate > input:checked + label:hover,
.rate > input:checked + label:hover ~ label,
.rate > input:checked ~ label:hover,
.rate > input:checked ~ label:hover ~ label,
.rate > label:hover ~ input:checked ~ label {
    color: #c59b08;
}
</style>